{{ define "main" }}

  <!-- mainCards -->
  {{ if or .Params.mainCards_title .Params.mainCards_text .Params.mainCards_images }}
  <section class="section">
    <div class="section-container">
      <h2 class="section-title">{{ .Params.mainCards_title }}</h2>

      {{ with .Params.mainCards_text }}
      <div class="section-intro">
        {{ . | markdownify }}
      </div>
      {{ end }}

      {{ with .Params.mainCards_images }}
      <div class="maincards-images">
        {{ range . }}
          <img src="{{ . }}" alt="" class="maincards-image">
        {{ end }}
      </div>
      {{ end }}
    </div>
  </section>
  {{ end }}

  <!-- miniCards (增强版) -->
  {{ if .Params.miniCards }}
  <section class="section">
    <div class="section-container">
      <h2 class="section-title">{{ .Params.miniCards_title }}</h2>

      {{ with .Params.miniCards_text }}
      <div class="section-intro">
        {{ . | markdownify }}
      </div>
      {{ end }}

      <div class="mini-cards-grid">
        {{ range .Params.miniCards }}
          {{ $card := . }}
          <a href="{{ $card.url }}" class="mini-card">
            {{ if $card.image }}
              <div class="mini-card-image">
                <img src="{{ $card.image | relURL }}" alt="{{ $card.title }}">
              </div>
            {{ end }}
            <div class="mini-card-content">
              <h3 class="mini-card-title">{{ $card.title }}</h3>
              {{ with $card.subtitle }}
                <div class="mini-card-subtitle">{{ . }}</div>
              {{ end }}
              {{ with $card.summary }}
                <div class="mini-card-summary">{{ . | markdownify }}</div>
              {{ end }}
            </div>
          </a>
        {{ end }}
      </div>
    </div>
  </section>
  {{ end }}

  <!-- BigCards -->
  {{ if .Params.BigCards }}
  <section class="section">
    <div class="section-container">
      <h2 class="section-title">{{ .Params.BigCards_title }}</h2>

      {{ with .Params.BigCards_text }}
      <div class="section-intro">
        {{ . | markdownify }}
      </div>
      {{ end }}

      <div class="participants-grid">
        {{ range .Params.BigCards }}
        <a href="{{ .url }}">
          <div class="participant">
            <img src="{{ .photo }}" alt="{{ .name }}" class="participant-photo-square">
            <div class="participant-info">
              <h3>{{ .name }}</h3>
              <h4>{{ .affiliation }}</h4>
              <p>{{ .bio }}</p>
            </div>
          </div>
        </a>
        {{ end }}
      </div>
    </div>
  </section>
  {{ end }}
{{ end }}
